

/*
* To change this license header, choose License Headers in Project Properties.
* To change this template file, choose Tools | Templates
* and open the template in the editor.
*/

/**
 *
 * @author sanjay
 */
public class NewEntryGenerator {
    
    int asn;
    int receiptNumber;
    int subscriptionNumber;
    int distributorNumber;
    String subscriptionCode;
    String distributionType;
    String subscriptionType;
    String language;
    String status;
    
    //basic info
    String seriesName;
    //payment details
    
    int chequeNumber;
    int amount;
    int entryDate;
    int entryMonth;
    int entryYear;
    int subscriptionStartMonth;
    int subscriptionStartYear;
    int subscriptionEndMonth;
    int subscriptionEndYear;
    int pageNumber;
    
    
    String paymentType;
    
    
    String title;
    String firstName;
    String lastName;
    String addressLine1;
    String addressLine2;
    String addressLine3;
    String district;
    String state;
    int pinCode;
    
    //other details
    int returnStatus;
    String phoneNumber;
    String history;
    String email;
    String remarks;
    
    NewEntryGenerator()
    {
        
    }
    
    
    public int getAsn() {
        return asn;
    }
    
    public int getReceiptNumber() {
        return receiptNumber;
    }
    
    public int getSubscriptionNumber() {
        return subscriptionNumber;
    }
    
    public int getDistributorNumber() {
        return distributorNumber;
    }
    
    public String getSubscriptionCode() {
        return subscriptionCode;
    }
    
    public String getDistributionType() {
        return distributionType;
    }
    
    public String getSubscriptionType() {
        return subscriptionType;
    }
    
    public String getLanguage() {
        return language;
    }
    
    public String getStatus() {
        return status;
    }
    
    public String getSeriesName() {
        return seriesName;
    }
    
    public int getChequeNumber() {
        return chequeNumber;
    }
    
    public int getAmount() {
        return amount;
    }
    
    public int getEntryDate() {
        return entryDate;
    }
    
    public int getEntryMonth() {
        return entryMonth;
    }
    
    public int getEntryYear() {
        return entryYear;
    }
    
    public int getSubscriptionStartMonth() {
        return subscriptionStartMonth;
    }
    
    public int getSubscriptionStartYear() {
        return subscriptionStartYear;
    }
    
    public int getSubscriptionEndMonth() {
        return subscriptionEndMonth;
    }
    
    public int getSubscriptionEndYear() {
        return subscriptionEndYear;
    }
    
    public String getPaymentType() {
        return paymentType;
    }
    
    public String getTitle() {
        return title;
    }
    
    public String getFirstName() {
        return firstName;
    }
    
    public String getLastName() {
        return lastName;
    }
    
    public String getAddressLine1() {
        return addressLine1;
    }
    
    public String getAddressLine2() {
        return addressLine2;
    }
    
    public String getAddressLine3() {
        return addressLine3;
    }
    
    public String getDistrict() {
        return district;
    }
    
    public String getState() {
        return state;
    }
    
    public int getPinCode() {
        return pinCode;
    }
    
    public int getReturnStatus() {
        return returnStatus;
    }
    
    public String getPhoneNumber() {
        return phoneNumber;
    }
    
    public String getHistory() {
        return history;
    }
    
    public String getEmail() {
        return email;
    }
    
    public String getRemarks() {
        return remarks;
    }
    
    public void setPageNumber(int pageNumber) {
        this.pageNumber = pageNumber;
    }
    
    public int getPageNumber() {
        return pageNumber;
    }
    
    public void setAsn(int asn) {
        this.asn = asn;
    }
    
    public void setReceiptNumber(int receiptNumber) {
        this.receiptNumber = receiptNumber;
    }
    
    public void setSubscriptionNumber(int subscriptionNumber) {
        this.subscriptionNumber = subscriptionNumber;
    }
    
    public void setDistributorNumber(int distributorNumber) {
        this.distributorNumber = distributorNumber;
    }
    
    public void setSubscriptionCode(String subscriptionCode) {
        this.subscriptionCode = subscriptionCode;
    }
    
    public void setDistributionType(String distributionType) {
        this.distributionType = distributionType;
    }
    
    public void setSubscriptionType(String subscriptionType) {
        this.subscriptionType = subscriptionType;
    }
    
    public void setLanguage(String language) {
        this.language = language;
    }
    
    public void setStatus(String status) {
        this.status = status;
    }
    
    public void setSeriesName(String seriesName) {
        this.seriesName = seriesName;
    }
    
    public void setChequeNumber(int chequeNumber) {
        this.chequeNumber = chequeNumber;
    }
    
    public void setAmount(int amount) {
        this.amount = amount;
    }
    
    public void setEntryDate(int entryDate) {
        this.entryDate = entryDate;
    }
    
    public void setEntryMonth(int entryMonth) {
        this.entryMonth = entryMonth;
    }
    
    public void setEntryYear(int entryYear) {
        this.entryYear = entryYear;
    }
    
    public void setSubscriptionStartMonth(int subscriptionStartMonth) {
        this.subscriptionStartMonth = subscriptionStartMonth;
    }
    
    public void setSubscriptionStartYear(int subscriptionStartYear) {
        this.subscriptionStartYear = subscriptionStartYear;
    }
    
    public void setSubscriptionEndMonth(int subscriptionEndMonth) {
        this.subscriptionEndMonth = subscriptionEndMonth;
    }
    
    public void setSubscriptionEndYear(int subscriptionEndYear) {
        this.subscriptionEndYear = subscriptionEndYear;
    }
    
    public void setPaymentType(String paymentType) {
        this.paymentType = paymentType;
    }
    
    public void setTitle(String title) {
        this.title = title;
    }
    
    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }
    
    public void setLastName(String lastName) {
        this.lastName = lastName;
    }
    
    public void setAddressLine1(String addressLine1) {
        this.addressLine1 = addressLine1;
    }
    
    public void setAddressLine2(String addressLine2) {
        this.addressLine2 = addressLine2;
    }
    
    public void setAddressLine3(String addressLine3) {
        this.addressLine3 = addressLine3;
    }
    
    public void setDistrict(String district) {
        this.district = district;
    }
    
    public void setState(String state) {
        this.state = state;
    }
    
    public void setPinCode(int pinCode) {
        this.pinCode = pinCode;
    }
    
    public void setReturnStatus(int returnStatus) {
        this.returnStatus = returnStatus;
    }
    
    public void setPhoneNumber(String phoneNumber) {
        this.phoneNumber = phoneNumber;
    }
    
    public void setHistory(String history) {
        this.history = history;
    }
    
    public void setEmail(String email) {
        this.email = email;
    }
    
    public void setRemarks(String remarks) {
        this.remarks = remarks;
    }
    
    public NewEntryGenerator(int asn) {
        this.asn = asn;
    }
    
    public boolean insertNewEntryInDatabase()
    {
        
        int flag = 0;
        try{
            connect c2=new connect();
            String basicSqlQuery = "insert into basic values("+this.getAsn()+",'"+
                    this.getSubscriptionCode()+"',"+
                    this.getSubscriptionNumber()+",'"+
                    this.getStatus()+"',"+
                    this.getReceiptNumber()+",'"+
                    this.getDistributionType()+"',"+
                    this.getDistributorNumber()+",'"+
                    this.getSubscriptionType()+"','"+
                    this.getLanguage()+"','"+
                    this.getSeriesName()+"',"+
                    this.getPageNumber()+")";
            
            c2.a=c2.st.executeUpdate(basicSqlQuery);
            
            if(c2.a==1)
                flag++;
            c2.closeAll();
            
            /*
            if( this.getDistributorNumber() > 0)
            {
                connect c10=new connect();
                c10.a=c10.st.executeUpdate("insert into d"+this.getDistributorNumber()+" values ("+this.getAsn()+")");
                c10.closeAll();
            }*/
            
            //database query for payment fragment
            
            String paymentQuery = "insert into payment values("+
                    this.getAsn()+",'"+
                    this.getPaymentType()+"',"+
                    this.getChequeNumber()+","+
                    this.getEntryDate()+","+
                    this.getEntryMonth()+","+
                    this.getEntryYear()+","+
                    this.getAmount()+","+
                    this.getSubscriptionStartMonth()+","+
                    this.getSubscriptionStartYear()+","+
                    this.getSubscriptionEndMonth()+","+
                    this.getSubscriptionEndYear()+" , '"+
                    SamsUtilities.getCurrentSqlDate()+"', 'New')";
            
            connect c3=new connect();
            c3.a=c3.st.executeUpdate(paymentQuery);
            if(c3.a==1)
                flag++;
            c3.closeAll();
            
            //database query for subscription details fragment
            
            connect c4=new connect();
            c4.a=c4.st.executeUpdate("insert into subdetails values ("+
                    this.asn+",'"+
                    this.title+"','"+
                    this.getFirstName()+"','"+
                    this.getLastName()+"','"+
                    this.getAddressLine1()+"','"+
                    this.getAddressLine2()+"','"+
                    this.getAddressLine3()+"','"+
                    this.getDistrict()+"','"+
                    this.getState()+"',"+
                    this.getPinCode()+")");
            if(c4.a==1)
                flag=flag+1;
            c4.closeAll();
            
            
            //database query for other details fragment
            
            connect c5=new connect();
            c5.a=c5.st.executeUpdate("insert into otherdet values("+
                    this.getAsn()+",'"+
                    this.getPhoneNumber()+"','"+
                    this.getHistory()+"','"+
                    this.getEmail()+"',"+
                    this.getReturnStatus()+",'"+
                    this.getRemarks()+"','','','')");
            
            if(c5.a==1)
                flag=flag+1;
            c5.closeAll();
            
            
            if(flag==4)
            {
                int newAsnNumber;
                newAsnNumber = this.getAsn()+1;
                connect c6=new connect();
                c6.a=c6.st.executeUpdate("update asn set asn="+newAsnNumber+" where asn="+this.getAsn());
                c6.closeAll();
                flag=0;
            }
            else
            {
                
                connect connection=new connect();
                
                connection.a=connection.st.executeUpdate("delete from basic where asn = "+this.getAsn());
                connection.a=connection.st.executeUpdate("delete from payment where asn = "+this.getAsn());
                connection.a=connection.st.executeUpdate("delete from otherdet where asn = "+this.getAsn());
                connection.a=connection.st.executeUpdate("delete from subdetails where asn = "+this.getAsn());
                
                connection.closeAll();
                return false;
            }
            
            return true;
        }
        catch(Exception e)
        {
            return false;
        }
        //return false;
    }
    
    
    
}
